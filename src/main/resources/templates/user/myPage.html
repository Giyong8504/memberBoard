<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns="http://www.w3.org/1999/html"
      layout:decorate="~{layouts/boardMain}">

<!-- layout:fragment로 content를 지정하여 내용만 작성 -->
<main layout:fragment="content">
    <div>
        <h1>내 정보</h1>
        <p>이메일: </p>
        <p>이름: </p>
        <p>전화번호: </p>
    </div>

    <!-- 비밀번호 변경 폼 -->
    <form method="POST" th:action="@{/myPage}" th:object="${myPageForm}">
        <div th:each="err : ${#fields.globalErrors()}" th:text="${err}"></div>
        <div>
            <input type="password" id="oldPassword" name="oldPassword" th:field="*{oldPassword}" placeholder="기존 비밀번호">
            <div th:each="err : ${#fields.errors('oldPassword')}" th:text="${err}"></div>
        </div>
        <div>
            <input type="password" id="newPassword" name="newPassword" th:field="*{newPassword}" placeholder="새로운 비밀번호">
            <div th:each="err : ${#fields.errors('newPassword')}" th:text="${err}"></div>
        </div>
        <div>
            <input type="password" id="passwordRe" name="passwordRe" th:field="*{passwordRe}" placeholder="비밀번호 확인">
            <div th:each="err : ${#fields.errors('passwordRe')}" th:text="${err}"></div>
        </div>
        <button type="submit">비밀번호 변경</button>
    </form>

    <!-- 회원 탈퇴 폼 -->
    <form method="POST" action="/myPage/cancel-user">
        <button type="submit">회원 탈퇴</button>
    </form>
</main>
</html>