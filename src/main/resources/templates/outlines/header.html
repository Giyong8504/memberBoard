<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<header th:fragment="header">
    <div class="">
        <a href="/" class="btn btn-primary">메인으로</a>

        <ul class="">
            <li><a href="/board" class="">Board</a></li>
            <li><a href="#">about</a></li>
        </ul>

        <form class="" role="search">
            <input type="search" class="" placeholder="Search..." aria-label="Search">
        </form>

        <!-- 로그인하지 않았을 경우 노출 / 로그인 후 사라짐-->
        <div class="" sec:authorize="isAnonymous()">
            <button type="button" class="" onclick="location.href='/login'">로그인</button>
            <button type="button" class="" onclick="location.href='/join'">회원가입</button>
            <div>
                <a href="/oauth2/authorization/google">
                    <img src="/img/google.png">
                </a>
            </div>
        </div>

        <!-- 로그인 했을 경우 노출되는 버튼 / 로그아웃 후 사라짐 -->
        <div sec:authorize="isAuthenticated()">
            <!-- 로그인 중 로그인 아이디, 이름 표시 -->
            <th:block th:text="${#messages.msg('login.msg', session.userInfo.userNm, session.userInfo.userId)}"></th:block>
            <button type="button" class="" onclick="location.href='/logout'">로그아웃</button>
        </div>
    </div>
</header>
</html>